<div id="action-container" *ngIf="pantry && pantry.id && pantry.pantryName">
  <form [formGroup]="form" (ngSubmit)="submit()">
    <mat-form-field color="accent">
      <mat-label>Filter</mat-label>
      <input type="text" matInput formControlName="filterValue" />
    </mat-form-field>
    <mat-form-field color="accent">
      <mat-label>Choose column to sort</mat-label>
      <mat-select formControlName="sortColName">
        <mat-option
          *ngFor="let columnName of sortColumnNames"
          [value]="columnName.value"
          >{{ columnName.name }}</mat-option
        >
      </mat-select>
    </mat-form-field>
    <mat-form-field color="accent">
      <mat-label>Choose sort direction</mat-label>
      <mat-select formControlName="sortDirection">
        <mat-option
          *ngFor="let sortDireciton of sortDirecitons"
          [value]="sortDireciton.value"
          >{{ sortDireciton.name }}</mat-option
        >
      </mat-select>
    </mat-form-field>
    <button
      mat-raised-button
      color="primary"
      (click)="submit()"
      [disabled]="!totalElements"
    >
      Search
    </button>
  </form>

  <button
    mat-raised-button
    color="warn"
    disabled
    id="remove-button"
    #removeButton
    (click)="removeProductsFromPantry()"
  >
    Remove
  </button>
</div>

<mat-card>
  <mat-card-content>
    <div
      id="create-pantry-container"
      *ngIf="pantry && !pantry.id && !pantry.pantryName"
    >
      <p>You don't have a pantry yet</p>
      <button mat-raised-button color="primary" routerLink="/pantry/create">
        Create new pantry
      </button>
    </div>

    <div
      id="pantry-products-container"
      *ngIf="pantry && pantry.id && pantry.pantryName"
    >
      <div id="empty-pantry-container" *ngIf="!totalElements">
        <p>You pantry is currently empty</p>
      </div>

      <ng-container *ngIf="totalElements">
        <mat-list role="list">
          <mat-list-item>
            <div class="product-container">
              <span>Select</span>
              <span>Product</span>
              <span>Category</span>
              <span>Quantity</span>
              <span>Reserved</span>
              <span>Placement</span>
              <span>Expiration date</span>
              <span>Options</span>
            </div>
          </mat-list-item>

          <mat-divider></mat-divider>

          <ng-container *ngFor="let product of products">
            <app-pantry-product-list-elem
              [pantry]="pantry"
              [pantryProduct]="product"
              (checkboxEvent)="checkboxClicked($event)"
              (reloadEvent)="reloadPage()"
            ></app-pantry-product-list-elem>
          </ng-container>
        </mat-list>
        <mat-paginator
          [length]="totalElements"
          [pageSize]="page_size"
          aria-label="Select page"
          (page)="pageChange($event)"
          color="accent"
        >
        </mat-paginator>
      </ng-container>
    </div>
  </mat-card-content>
</mat-card>
